{% extends "admin/base_site.html" %}
{% load i18n admin_urls static admin_modify %}

{% block breadcrumbs %}
<div class="breadcrumbs">
<a href="{% url 'admin:index' %}">{% trans 'Home' %}</a>
&rsaquo; <a href="{% url 'admin:app_list' app_label=opts.app_label %}">{{ opts.app_config.verbose_name }}</a>
&rsaquo; <a href="{% url 'admin:lead_extractor_userprofile_changelist' %}">{{ opts.verbose_name_plural|capfirst }}</a>
&rsaquo; <a href="{% url 'admin:lead_extractor_userprofile_change' user_profile.pk %}">{{ user_profile.email|truncatewords:"18" }}</a>
&rsaquo; Adicionar Créditos
</div>
{% endblock %}

{% block content %}
<h1>Adicionar Créditos para {{ user_profile.email }}</h1>

<div class="module aligned">
    <div class="form-row">
        <div>
            <label><strong>Usuário:</strong></label>
            <p>{{ user_profile.email }} ({{ user_profile.supabase_user_id }})</p>
        </div>
    </div>
    
    <div class="form-row">
        <div>
            <label><strong>Saldo Atual:</strong></label>
            <p style="font-size: 1.2em; font-weight: bold; color: #417690;">{{ user_profile.credits }} créditos</p>
        </div>
    </div>
</div>

<form method="post" action="">
    {% csrf_token %}
    
    <fieldset class="module aligned">
        <h2>Informações da Adição de Créditos</h2>
        
        <div class="form-row">
            <div>
                <label for="amount">Quantidade de Créditos:</label>
                <input type="number" name="amount" id="amount" min="1" value="100" required style="width: 200px;">
                <p class="help">Digite a quantidade de créditos a adicionar</p>
            </div>
        </div>
        
        <div class="form-row">
            <div>
                <label for="description">Descrição (opcional):</label>
                <textarea name="description" id="description" rows="3" style="width: 100%; max-width: 500px;">Créditos adicionados manualmente pelo admin</textarea>
                <p class="help">Descrição que aparecerá no histórico de transações</p>
            </div>
        </div>
    </fieldset>
    
    <div class="submit-row">
        <input type="submit" value="Adicionar Créditos" class="default" style="padding: 10px 15px;">
        <a href="{% url 'admin:lead_extractor_userprofile_change' user_profile.pk %}" class="button">Cancelar</a>
    </div>
</form>

{% endblock %}

